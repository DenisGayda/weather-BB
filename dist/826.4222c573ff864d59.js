"use strict";(self.webpackChunkBackbase=self.webpackChunkBackbase||[]).push([[826],{1826:(R,p,r)=>{r.r(p),r.d(p,{ForecastPageModule:()=>N});var s=r(9808),m=r(5883),t=r(1223);let u=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,m.T]]}),e})();var d=r(7338),f=r(515),h=r(262),y=r(4004),v=r(776),F=r(8823),x=r(8145);function b(e){const{city:{id:n,name:o},list:a}=e;return{id:n,name:o,months:C(a.map(_))}}function _(e){const{main:{temp:n,humidity:o},wind:{speed:a,deg:c},dt_txt:l,weather:i}=e;return{temperature:n,wind_speed:a,wind_direction_deg:c,weather_icon_url:(0,x.X)(i[0].icon),humidity:o,date:Z(l)}}function Z(e){const n=new Date(e);return{month:n.getMonth(),monthName:n.toLocaleString("en-GB",{month:"long"}),day:n.getDate(),timeString:n.toLocaleString("en-GB",{hour:"numeric",hour12:!0}).toUpperCase(),time:n.toLocaleString("en-GB",{hour:"2-digit",hour12:!1})}}function C(e){const n={};for(let o of e){const{monthName:a,day:c,month:l}=o.date,i=n[a];if(i){const g=i.days[c];n[a].days=Object.assign(Object.assign({},i.days),{[c]:g?[...g,o]:[o]})}else n[a]={name:a,month:l,days:{[c]:[o]}}}return Object.values(n).map(({name:o,days:a,month:c})=>({name:o,month:c,days:Object.values(a).map(i=>({info:i,day:i[0].date.day}))}))}var O=r(520);let P=(()=>{class e{constructor(o){this.http=o}getForecast$(o){return this.http.get(`${F._}/data/2.5/forecast`,{params:{q:o,units:"metric",appid:v.$}}).pipe((0,y.U)(b))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(O.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),T=(()=>{class e{constructor(o,a){this.router=o,this.forecastApi=a}resolve(o){const a=o.paramMap.get("id");return this.forecastApi.getForecast$(a).pipe((0,h.K)(()=>(this.router.navigate(["/"]),f.E)))}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(d.F0),t.LFG(P))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var M=r(2554);function w(e,n){if(1&e&&(t.TgZ(0,"div",13)(1,"div",6)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"div",6)(5,"span"),t._uU(6),t.qZA()(),t.TgZ(7,"div",6)(8,"span"),t._uU(9),t.qZA()(),t._UZ(10,"app-wind-info",14),t.qZA()),2&e){const o=n.$implicit;t.xp6(3),t.Oqu(o.date.timeString),t.xp6(3),t.Oqu(o.temperature),t.xp6(3),t.Oqu(o.humidity),t.xp6(1),t.Q6J("speed",o.wind_speed)("deg",o.wind_direction_deg)}}function A(e,n){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2)(2,"span",3),t._uU(3),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.qZA()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6),t._UZ(9,"img",7),t.qZA(),t.TgZ(10,"div",6),t._UZ(11,"img",8),t.qZA(),t.TgZ(12,"div",6),t._UZ(13,"img",9),t.qZA(),t.TgZ(14,"div",6),t._UZ(15,"img",10),t.qZA()(),t.TgZ(16,"div",11),t.YNc(17,w,11,5,"div",12),t.qZA()()()),2&e){const o=t.oxw();t.xp6(3),t.Oqu(o.forecast.day),t.xp6(2),t.Oqu(o.month),t.xp6(12),t.Q6J("ngForOf",o.forecast.info)}}let D=(()=>{class e{constructor(){this.month=""}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-daily-forecast"]],inputs:{forecast:"forecast",month:"month"},decls:1,vars:1,consts:[["class","daily-forecast",4,"ngIf"],[1,"daily-forecast"],[1,"date"],[1,"month-day"],[1,"table"],[1,"table-headers","table-row"],[1,"table-cell"],["src","../../../assets/images/clock.png","alt","time icon",1,"table-header-icon"],["src","../../../assets/images/thermometer.png","alt","thermometer icon",1,"table-header-icon"],["src","../../../assets/images/humidity.png","alt","humidity icon",1,"table-header-icon"],["src","../../../assets/images/wind.png","alt","wind direction icon",1,"table-header-icon"],[1,"table-body"],["class","table-row",4,"ngFor","ngForOf"],[1,"table-row"],[1,"table-cell",3,"speed","deg"]],template:function(o,a){1&o&&t.YNc(0,A,18,3,"div",0),2&o&&t.Q6J("ngIf",a.forecast)},directives:[s.O5,s.sg,M.M],styles:["[_nghost-%COMP%]{display:block}.daily-forecast[_ngcontent-%COMP%]{display:flex;border:2px solid #0b2239;border-radius:8px;background:linear-gradient(to bottom,#b7eaff 0%,#fefdcf 100%)}.table[_ngcontent-%COMP%]{width:calc(100% - 200px);border-left:2px solid #0b2239}.table-row[_ngcontent-%COMP%]{display:grid;width:100%;grid-template-columns:repeat(4,1fr);grid-column-gap:16px}.table-headers[_ngcontent-%COMP%]{border-bottom:2px solid #0b2239}.table-header-icon[_ngcontent-%COMP%]{width:20px;height:20px}.date[_ngcontent-%COMP%]{width:200px;color:#0b2239;display:flex;justify-content:center;align-items:center;flex-direction:column}.table-cell[_ngcontent-%COMP%]{text-align:center;padding:4px}.month-day[_ngcontent-%COMP%]{font-size:60px}"],changeDetection:0}),e})();function B(e,n){if(1&e&&t._UZ(0,"app-daily-forecast",6),2&e){const o=n.$implicit,a=t.oxw().$implicit;t.Q6J("forecast",o)("month",a.name)}}function U(e,n){if(1&e&&(t.TgZ(0,"div"),t.YNc(1,B,1,2,"app-daily-forecast",5),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngForOf",o.days)}}function k(e,n){if(1&e){const o=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return t.CHM(o),t.oxw().backToHomePage()}),t._uU(3,"\u2b05 Back"),t.qZA(),t.TgZ(4,"div",3),t._uU(5),t.qZA()(),t.YNc(6,U,2,1,"div",4),t.BQk()}if(2&e){const o=t.oxw();t.xp6(5),t.hij("Weather forecast in ",o.forecast.name,""),t.xp6(1),t.Q6J("ngForOf",o.forecast.months)}}const J=d.Bz.forChild([{path:"",component:(()=>{class e{constructor(o,a){this.route=o,this.router=a,this.forecast=null}ngOnInit(){const o=this.route.snapshot.data;this.forecast=o?o.forecast:null}backToHomePage(){this.router.navigateByUrl("main")}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(d.gz),t.Y36(d.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-forecast-page"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"forecast-header"],[1,"back-button",3,"click"],[1,"title"],[4,"ngFor","ngForOf"],["class","daily-forecast",3,"forecast","month",4,"ngFor","ngForOf"],[1,"daily-forecast",3,"forecast","month"]],template:function(o,a){1&o&&t.YNc(0,k,7,2,"ng-container",0),2&o&&t.Q6J("ngIf",!!a.forecast)},directives:[s.O5,s.sg,D],styles:["[_nghost-%COMP%]{display:block;margin-top:40px}.daily-forecast[_ngcontent-%COMP%]{margin-bottom:20px}.forecast-header[_ngcontent-%COMP%]{display:block;position:fixed;width:100vw;height:40px;left:0;top:60px;background:#fefdcf;z-index:1;color:#0b2239;font-size:24px;font-family:Brush Script MT,cursive;line-height:40px;text-align:center}.back-button[_ngcontent-%COMP%]{position:absolute;left:20px;top:4px;height:32px;width:100px;background:#fefdcf;color:#0b2239;outline:none;border:2px solid #0b2239;border-radius:4px;font-weight:700;cursor:pointer}"],changeDetection:0}),e})(),resolve:{forecast:T}}]);let z=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[J],d.Bz]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[s.ez,z,u]]}),e})()}}]);